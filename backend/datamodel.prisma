type User{
    id: ID! @id
    email: String! @unique
    isMaster: Club @relation(name:"ClubMaster")
    encryptedPassword: String!
    phoneNumber: String
    studentNumber: Int
    Name: String
    avatar: String
    sex: String
    loginSecret: String
    notifications:[Notification] @relation(name:"UserNotification")
    applications:[Application]
    rooms:[Room]
}

type Notification{
    id: ID! @id
    user: User! @relation(name:"UserNotification", link:INLINE)
    content: String! 
    checked: Boolean! @default(value:false)
}

type Application{
    id: ID! @id
    user: User! 
    club: Club!
    answer: [String]! @scalarList(strategy: RELATION)
    checked: Boolean!
    isPass: Boolean
}

type Club{
    id: ID! @id
    master: User! @relation(name:"ClubMaster", link: INLINE)
    questions: [Question] @relation(name:"ClubQuestion")
    applications: [Application]
    name: String!
    bio: String!
    description: String!
    logo: String
    clubImage: File @relation(name:"ClubImg")
    type: String!
    socialUrl: String
    socialDisplay: Boolean @default(value:false)
}

type Question{
    id: ID! @id
    owner: Club! @relation(name:"ClubQuestion", link: INLINE)
    subject: String
    type: String 
    options:[String] @scalarList(strategy: RELATION)
}

type Room{
    id: ID! @id
    participants: [User!]!
    messages: [Message!]!
}

type Message {
    id: ID! @id
    text: String!
    from: User! @relation(name: "From")
    to: User!   @relation(name: "To")
    room: Room!
}

type File {
    id: ID! @id
    url: String!
    club: Club @relation(name:"ClubImg", link: INLINE)
}

